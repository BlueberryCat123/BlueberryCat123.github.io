{"posts":[{"title":"Matlabå²å¯†æ–¯åœ†å›¾ä¸LNAè®¾è®¡","text":"è¿™å‡ å¤©éœ€è¦ç”¨Matlabè®¾è®¡ä¸€ä¸ªLNAï¼Œç»“æœå‘ç°Matlabçš„å²å¯†æ–¯åœ†å›¾ä¸å¤ªå¥½ç”¨â€¦ äºæ˜¯æˆ‘å†³å®šè‡ªå·±æ•´ä¸€ä¸ªå²å¯†æ–¯åœ†å›¾ã€‚ ç”µé˜»åœ†æ—å’Œç”µæŠ—åœ†æ—å…¬å¼å¦‚ä¸‹ï¼š $${(\\Gamma_{r}-\\frac{r}{1+r})}^2 + {\\Gamma_{i}}^2 = {(\\frac{1}{1+r})}^2$$ $${(\\Gamma_{r}-1)}^2 + {(\\Gamma_{i}-\\frac{1}{x})}^2 = {(\\frac{1}{x})}^2$$ é‚£ä¹ˆï¼Œå¯ä»¥å†™å‡ºä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728function [] = smith() for x = -4 : 0.2 : 4 viscircles([1, 1 / x], 1 / abs(x), &quot;LineWidth&quot;, 0.1, &quot;Color&quot;, &quot;blue&quot;); xlim([-1, 1]); ylim([-1, 1]); end line([-1, 1], [0, 0], &quot;LineWidth&quot;, 0.1, &quot;Color&quot;, &quot;blue&quot;); for r = 0 : 0.2 : 5 viscircles([r / (1 + r), 0], 1 / (1 + r), &quot;LineWidth&quot;, 0.1, &quot;Color&quot;, &quot;blue&quot;); hold on; axis equal; xlim([-1, 1]); ylim([-1, 1]); end anglex={-1, -1, 1, 1}; angley={1, -1, -1, 1}; for i = 1 : 4 for theta = pi / 2 * i : pi / 1000 : pi / 2 * ( i + 1 ) x = cos(theta); y = sin(theta); x1 = cos(theta + pi / 1000); y1 = sin(theta + pi / 1000); fill([x, x1, anglex{i}], [y, y1, angley{i}], &quot;b&quot;); end endend æ•ˆæœæ˜¯è¿™æ ·çš„ LNAè®¾è®¡åŸºäºä¸Šæ–‡çš„å²å¯†æ–¯åœ†å›¾æ¥è¡¨ç¤ºã€‚ å…·ä½“å…¬å¼æ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥å»çœ‹ã€Šå°„é¢‘ç”µè·¯è®¾è®¡â€•â€•ç†è®ºä¸åº”ç”¨ï¼ˆç¬¬äºŒç‰ˆï¼‰ã€‹è¿™æœ¬ä¹¦ğŸ“•ï¼Œå…¬å¼ä½äºç¬¬ä¹ç« ã€‚ ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156clear;close all;clc;% S11 A11 S21 A21 S12 A12 S22 A22 Topt_m Topt_a Fmin_db Rn/50 é¡ºåº Parameter_demo = [0.3 30 2.5 -80 0.2 -60 0.2 -15 0.5 45 1.5 0.08];Parameter_2G = [];% é€‰æ‹©Så‚æ•°Sel = Parameter_demo;% æŒ‡å®š å¢ç›ŠG_db = 8;G = power(10, G_db / 10);% æŒ‡å®š VSWRimnVSWRimn = 1.5;Timn_abs = (VSWRimn - 1) / (VSWRimn + 1);% æŒ‡å®š å™ªå£°ç³»æ•°F_db = 1.6; F = power(10, F_db / 10);% Rn/50Rn = Sel(12);% æœ€å°å™ªå£°ç³»æ•°Fmin_db = Sel(11); Fmin = power(10, Fmin_db / 10);% optåå°„ç³»æ•°Topt_a = ang2rad(Sel(10));Topt = Sel(9) * exp (1i * Topt_a);% æŒ‡å®šSå‚æ•°a11 = ang2rad(Sel(2));s11 = Sel(1) * exp (1i * a11);a21 = ang2rad(Sel(4));s21 = Sel(3) * exp (1i * a21);a12 = ang2rad(Sel(6));s12 = Sel(5) * exp (1i * a12);a22 = ang2rad(Sel(8));s22 = Sel(7) * exp (1i * a22);% å²å¯†æ–¯åœ†å›¾subplot(121);smith();% ç¨³å®šæ€§è®¡ç®—delta = s11 * s22 -s12 * s21;k = (1 - power(abs(s11), 2) - power(abs(s22), 2) + power(abs(delta), 2)) / (2 * abs(s12) * abs(s21));% æœ€å¤§åŠŸç‡å¢ç›ŠGmax = abs(s21) / abs(s12) * (k - sqrt(power(k, 2) - 1));Gmax_db = 10 * log10(Gmax);% æ¯”ä¾‹ç³»æ•°g0 = G / power(abs(s21), 2);% åŠŸç‡å¢ç›Šåœ†dg0 = g0 * conj(s22 - delta * conj(s11)) / (1 + g0 * (power(abs(s22), 2) - power(abs(delta), 2)));rg0 = sqrt(1 - 2 * k * g0 * abs(s12 * s21) + power(g0, 2) * power(abs(s12 * s21), 2)) / abs(1 + g0 * (power(abs(s22), 2) - power(abs(delta), 2)));% è½¬æ¢dgs = ((1 - s22 * dg0) * conj((s11 - delta * dg0)) - power(rg0, 2) * conj(delta) * s22) / (power(abs(1 - s22 * dg0), 2) - power(rg0, 2) * power(abs(s22), 2));rgs = rg0 * abs(s12 * s21) / abs(power(abs(1 - s22 * dg0), 2) - power(rg0, 2) * power(abs(s22), 2));viscircles([real(dgs), imag(dgs)], rgs, &quot;LineWidth&quot;, 2, &quot;Color&quot;, &quot;red&quot;);% å™ªå£°åŠŸç‡åœ†Qk = power(abs(1 + Topt), 2) * (F - Fmin) / (4 * Rn);df = Topt / (1 + Qk);rf = sqrt((1 - power(abs(Topt), 2)) * Qk + power(Qk, 2)) / (1 + Qk);viscircles([real(df), imag(df)], rf, &quot;LineWidth&quot;, 2, &quot;Color&quot;, &quot;green&quot;);% å™ªå£°optscatter(real(Topt), imag(Topt), &quot;red&quot;);% æ‰«æå–ä¼˜min_F = inf;VSWRomn_target = inf;for degree = 1:360 Ts = dgs + rgs * exp (1i * ang2rad(degree)); Tl = (s11 - conj(Ts)) / (delta - s22 * conj(Ts)); Tout = s22 + s12 * s21 * Ts / (1 - s11 * Ts); Tomn = (conj(Tout) - Tl) / (1 - Tl * Tout); VSWRomn = (1 + abs(Tomn)) / (1 - abs(Tomn)); if(abs(Ts - df) &lt; rf &amp;&amp; VSWRomn &lt; VSWRomn_target) scan_F = Fmin + 4 * Rn * power(abs(Ts - Topt), 2) / ((1 - power(abs(Ts), 2)) * power(abs(1 + Topt), 2)); if(scan_F &lt; min_F) min_F = scan_F; Ts_final = Ts; Tl_final = Tl; end scatter(real(Ts), imag(Ts), &quot;yellow&quot;); endendscatter(real(Ts_final), imag(Ts_final), &quot;red&quot;);% ä¸‹é¢è¿›è¡ŒVSWRçš„ä¼˜åŒ–Tin = s11 + (s21 * s12 * Tl_final) / (1 - s22 * Tl_final);dv_imn = (1 - power(Timn_abs, 2)) * conj(Tin) / (1 - power(Timn_abs * abs(Ts), 2));rv_imn = (1 - power(abs(Tin), 2)) * Timn_abs / (1 - power(Timn_abs * abs(Ts), 2));viscircles([real(dv_imn), imag(dv_imn)], rv_imn, &quot;LineWidth&quot;, 2, &quot;Color&quot;, &quot;cyan&quot;);VSWRomn_list = zeros(360, 1);for degree = 1:360 Ts = dv_imn + rv_imn * exp (1i * ang2rad(degree)); Tout = s22 + s12 * s21 * Ts / (1 - s11 * Ts); Tomn = (conj(Tout) - Tl_final) / (1 - Tl_final * Tout); VSWRomn_list(degree) = (1 + abs(Tomn)) / (1 - abs(Tomn));endsubplot(122);grid on;xlim([1, 360]);ylim([1, inf]);hold on;% ç”»å‡ºä¸åŒè§’åº¦çš„VSWRï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªè§’åº¦plot(1:360, VSWRomn_list, &quot;Color&quot;, &quot;blue&quot;);line([1, 360], [VSWRimn, VSWRimn], &quot;Color&quot;, &quot;red&quot;, &quot;LineStyle&quot;, &quot;--&quot;);prompt = &quot;é€‰æ‹©è§’åº¦ï¼š&quot;;degree = input(prompt);Ts_final = dv_imn + rv_imn * exp (1i * ang2rad(degree));Tout = s22 + s12 * s21 * Ts_final / (1 - s11 * Ts_final);% Gtå€¼è®¡ç®—Gt = (1 - power(abs(Tl_final), 2)) * power(abs(s21), 2) * (1 - power(abs(Ts_final), 2)) / (power(abs(1 - Ts_final * Tin), 2) * power(abs(1 - s22 * Tl_final), 2));Gt_db = 10 * log10(Gt);% å™ªå£°ç³»æ•°F_final = Fmin + 4 * Rn * power(abs(Ts_final - Topt), 2) / ((1 - power(abs(Ts_final), 2)) * power(abs(1 + Topt), 2));F_final_db = 10 * log10(F_final);% è¾“å‡ºfprintf(&quot;Ts: %fâˆ %fÂ°\\nTout: %fâˆ %fÂ°\\n&quot;, abs(Ts_final), getAngle(Ts_final), abs(Tout), getAngle(Tout));fprintf(&quot;Gt(dB): %f\\nF(dB): %f\\nVSWRomn: %f\\n&quot;, Gt_db, F_final_db, VSWRomn_list(degree)); è¯¥ä»£ç åº”é…åˆä¸‹é¢çš„å‡½æ•°ä½¿ç”¨ã€‚ 123function [rad] = ang2rad(ang) rad = ang / 360 * 2 * pi;end 123function [ang] = getAngle(z) ang = angle(z) / 2 / pi * 360;end è¿è¡Œç»“æœå¦‚ä¸‹ï¼š å·¦å›¾ä¸­çº¢åœˆå°±æ˜¯å¯¹äº$\\Gamma_{S}$çš„ç­‰å¢ç›Šåœ†ï¼Œç»¿åœˆåˆ™æ˜¯ç­‰å™ªå£°åœ†ã€‚ ç»¿åœˆä¸­çš„çº¢ç‚¹æ˜¯$\\Gamma_{opt}$ã€‚ å·¦å›¾ä¸‹æ–¹ä¸€å¤§ç‰‡é»„ç‚¹æ˜¯æ»¡è¶³å‚æ•°è¦æ±‚ï¼ˆå¢ç›Šã€å™ªå£°ï¼‰çš„ç‚¹ï¼Œçº¢è‰²çš„åˆ™æ˜¯å™ªå£°ç³»æ•°æœ€å°çš„ç‚¹ã€‚ è·å¾—å™ªå£°ç³»æ•°æœ€å°çš„ç‚¹åï¼Œè¿›è¡Œé©»æ³¢æ¯”ä¼˜åŒ–ã€‚é€šè¿‡ç»™å®šIMNçš„é©»æ³¢æ¯”ï¼Œç”»å‡ºå›¾ä¸­è“è‰²çš„ç­‰é©»æ³¢æ¯”åœ†ã€‚æ‰«æè¯¥åœ†ï¼Œè®¡ç®—é©»æ³¢æ¯”ï¼Œç”»å‡ºå³å›¾ã€‚ å³å›¾ä¸­å®çº¿æ˜¯OMNçš„é©»æ³¢æ¯”ï¼Œéœ€è¦æ‰¾åˆ°ä¸€ä¸ªæ¯”è¾ƒå°çš„ç‚¹ï¼›è™šçº¿æ˜¯IMNçš„é©»æ³¢æ¯”ã€‚ å°†æ‰¾åˆ°çš„OMNå¯¹åº”çš„è§’åº¦è¾“å…¥Matlabï¼Œå³å¯å¾—åˆ°è¾“å‡ºã€‚","link":"https://blueberrycat123.github.io/2023/05/27/Matlab%E5%8F%B2%E5%AF%86%E6%96%AF%E5%9C%86%E5%9B%BE%E4%B8%8ELNA%E8%AE%BE%E8%AE%A1/"},{"title":"My First Post","text":"ç»å…¸å›¾ç‰‡ è¿™ä¸ªåšå®¢æ‰“ç®—ç”¨æ¥å†™ä¸€äº›æˆ‘è§‰å¾—æœ‰ä»·å€¼çš„ä¸œè¥¿ï¼Œæˆ–è€…è®°å½•ä¸€äº›æœ‰æ„æ€çš„äº‹æƒ…ã€‚ä¹‹å‰çš„é‚£ä¸ªæ—§ç½‘ç«™å°±ç•™åœ¨é‚£é‡Œå§ï¼Œä¸å°‘äººå¯¹äºChatGPTè¿™ä¸ªåŠŸèƒ½è¿˜æŒºå–œæ¬¢çš„ã€‚ æ—§ç½‘ç«™é“¾æ¥ï¼šBlueberryCat.site è¿™æ¬¡æˆ‘ä½¿ç”¨äº†Hexoæ¡†æ¶ï¼Œç»ˆäºä¸ç”¨è‡ªå·±æ‰‹å†™HTMLæˆ–è€…CSSäº†â€¦ ä¹‹å‰VUEç‰ˆçš„é¡¹ç›®å’ŒQuasarçš„é¡¹ç›®å†™çš„ä¹Ÿå·®ä¸å¤šäº†ã€‚ä½†æ˜¯æ„Ÿè§‰è¿™ç§æ¡†æ¶çš„å·¥ä½œé‡å¤ªå¤§äº†ï¼Œä½œä¸ºä¸ªäººåšå®¢å•¥çš„å®åœ¨æ˜¯æœ‰äº›æ€é¸¡ç”¨ç‰›åˆ€äº†ã€‚ é¡ºä¾¿ä¸€æï¼Œç°åœ¨åœ¨postå†…å¯ä»¥å†™æ•°å­¦å…¬å¼äº†ï¼ $$E = mc^2$$","link":"https://blueberrycat123.github.io/2023/05/27/My-First-Post/"},{"title":"RTMPã€HLSä¸HTTP-FLV","text":"æœ€è¿‘ï¼Œæœ‰ä¸ªé¡¹ç›®éœ€è¦ä½¿ç”¨OpenCVè¾“å‡ºçš„å›¾ç‰‡æ¨æµåˆ°ç½‘é¡µã€‚è¿™ä¸ªä¸œè¥¿ç›¸å½“çš„éº»çƒ¦ï¼Œä¸»è¦æ˜¯æˆ‘ä»¥å‰ä»æ¥æ²¡åšè¿‡ç›¸å…³çš„ä¸œè¥¿ã€‚ è¿™ç§éœ€æ±‚ç›¸å…³çš„åè®®æœ‰ä¸‰ç§ï¼š åè®® ä¼˜ç‚¹ ç¼ºç‚¹ RTSP è¶…ä½æ—¶å»¶ï¼Œå¯ä»¥è¾¾åˆ°æ¯«ç§’çº§ã€‚ æŠ€æœ¯å®ç°å¤æ‚ã€‚ RTMP ä½æ—¶å»¶ï¼Œç§’çº§ï¼›é€‚åº”æ€§å¥½ã€‚ éœ€è¦Flashæ”¯æŒï¼Œç›®å‰ä¸æµè¡Œã€‚ HLS åŠ¨æ€åˆ‡æ¢ç æµï¼›è‹¹æœå®‰å“éƒ½å¯ä»¥ç”¨ã€‚ é«˜æ—¶å»¶ï¼Œä¸é€‚åˆåšè§†é¢‘ç›´æ’­ï¼Œä¸€èˆ¬ç”¨ä½œç‚¹æ’­æˆ–è€…éŸ³é¢‘å¹¿æ’­ã€‚ é¦–å…ˆæ’é™¤RTSPï¼Œè¿™ä¸œè¥¿å‡ ä¹æ²¡å•¥å¯ç”¨æ–‡æ¡£ã€‚ RTMP RTMPæ˜¯åº”ç”¨å±‚åè®®ï¼Œå…¨ç§°Real Time Message Protocolã€‚Adobeå¼€å‘çš„åè®®ï¼Œéƒ¨ç½²èµ·æ¥å¾ˆç®€å•ï¼Œä½†æ˜¯å·²ç»åœæ­¢å¼€å‘äº†ã€‚ åè®®ç»†èŠ‚è¯·ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ã€‚ ä¸è¿‡é™¤éä½ è¦åŸºäºTCP/IPå†™ä¸€ä¸ªRMTPåº”ç”¨ï¼Œä¸€èˆ¬æ˜¯ä¸ç”¨å¤ªæ·±å…¥äº†è§£ï¼Œåªéœ€è¦çŸ¥é“å®ƒèƒ½åˆ†ç»„ä¼ è¾“æ¶ˆæ¯å°±è¡Œã€‚ RTMPæ˜¯åŸºäºFLVæ–‡ä»¶æ ¼å¼çš„åè®®ï¼Œè¿™ç§æ–‡ä»¶æ ¼å¼ä¸“é—¨ä¸ºæµåª’ä½“è®¾è®¡ï¼Œå¯ä»¥ç”¨ä¸€ç§æŒç»­ä¸æ–­â€œæµâ€çš„æ–¹å¼è¿›è¡Œä¼ è¾“ã€‚æ’­æ”¾å™¨æ‹¿åˆ°è¿™ç§æ ¼å¼çš„åˆ†åŒ…åï¼Œä¼šæ ¹æ®å…¶ä¸­ä¿¡æ¯è¿›è¡Œé‡æ’åºï¼Œè¿›è€Œå¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„åª’ä½“æ–‡ä»¶ã€‚ HLS ä¸åŒäºRTMPï¼ŒHLSåŒæ˜¯åº”ç”¨å±‚åè®®ï¼Œä½†æ˜¯å…¶æ˜¯åŸºäºHTTPåè®®ä¼ è¾“çš„ã€‚ è¿™ä¸ªåè®®æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯æŠŠä¸€ä¸ªå®Œæ•´çš„åª’ä½“æ–‡ä»¶åˆ‡åˆ†æˆè®¸å¤šçŸ­åª’ä½“ï¼Œç„¶ååœ¨ä¸€ä¸ªm3u8æ–‡ä»¶é‡Œæ§åˆ¶è¿™äº›çŸ­åª’ä½“æ–‡ä»¶çš„è¯»å–ã€‚ æœ¬è´¨ä¸Šæ˜¯åœ¨ä¼ è¾“è¿™äº›åˆ‡åˆ†å¥½çš„æ–‡ä»¶ã€‚ ä¸‹é¢æ˜¯CCTV1é¢‘é“çš„è¯­éŸ³ä¸»m3u8æ–‡ä»¶ï¼Œå®ƒæŒ‡å‡ºäº†å„ç§å¸¦å®½åº”ä½¿ç”¨çš„æºã€‚ ä¾æ®å¥ˆæ°å‡†åˆ™ï¼Œç†æƒ³ä½é€šä¿¡é“çš„æœ€é«˜ç å…ƒä¼ è¾“é€Ÿç‡ = 2W Baud 12345678910#EXTM3U#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=1800000,RESOLUTION=1280x720/cctvwbcd/cdrmcctv1_1/index.m3u8?BR=td#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=1350000,RESOLUTION=1024x576/cctvwbcd/cdrmcctv1_1/index.m3u8?BR=ud#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=900000,RESOLUTION=854x480/cctvwbcd/cdrmcctv1_1/index.m3u8?BR=hd#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=600000,RESOLUTION=640x360/cctvwbcd/cdrmcctv1_1/index.m3u8?BR=md ä¸‹é¢åˆ™æ˜¯ä»ä¸»m3u8æ‰¾åˆ°çš„å¯¹åº”çš„å­m3u8ï¼Œå®ƒæ§åˆ¶ç€æ¯ä¸ªçŸ­æµåª’ä½“çš„è¯»å–ã€‚ åœ¨ç›´æ’­åœºæ™¯ä¸‹ï¼Œå­m3u8ä¸èƒ½æœ‰#EXT-X-ENDLISTæ ‡å¿—ï¼Œå¦åˆ™æµè§ˆå™¨ä¼šåœæ­¢è¯·æ±‚å­m3u8ï¼Œè¿›è€Œå¯¼è‡´æ’­æ”¾åˆ—è¡¨æ— æ³•æ›´æ–°ï¼Œç›´æ’­æ–­æµã€‚ 123456789101112131415161718#EXTM3U#EXT-X-VERSION:3#EXT-X-ALLOW-CACHE:NO#EXT-X-TARGETDURATION:12#EXT-X-MEDIA-SEQUENCE:1684822835#EXTINF:12.000000,#EXT-X-PROGRAM-DATE-TIME:2023-05-29T16:33:34+0800cdrmcctv1_1_1800-1684822835.ts#EXTINF:12.000000,#EXT-X-PROGRAM-DATE-TIME:2023-05-29T16:33:46+0800cdrmcctv1_1_1800-1684822836.ts#EXTINF:12.000000,#EXT-X-PROGRAM-DATE-TIME:2023-05-29T16:33:58+0800cdrmcctv1_1_1800-1684822837.ts#EXTINF:12.000000,#EXT-X-PROGRAM-DATE-TIME:2023-05-29T16:34:10+0800cdrmcctv1_1_1800-1684822838.ts å®è·µè¯æ˜ï¼ŒHLSå¤§å¤šæ•°æ—¶é—´éƒ½æ˜¯ç”¨ä½œç‚¹æ’­ï¼Œç›´æ’­æ”¯æŒè¾ƒå·®ã€‚ ä¸Šé¢ä¸¤ä¸ªåè®®ä½¿ç”¨èµ·æ¥ä½“éªŒéƒ½ä¸å¤ªå¥½ã€‚ å‰è€…è¦æ±‚æµè§ˆå™¨æ‹¥æœ‰Flashæ”¯æŒï¼Œå‡ ä¹åªèƒ½ä½¿ç”¨æœ¬åœ°çš„VLCåª’ä½“æ’­æ”¾å™¨ï¼›åè€…åˆ™æ˜¯è¦æ±‚å¯¹åª’ä½“è¿›è¡Œåˆ‡åˆ†ï¼Œæ—¶é—´ç²’åº¦è¾ƒå¤§ï¼Œå»¶æ—¶è¾ƒé«˜ï¼Œè€Œä¸”ç›´æ’­æ”¯æŒä¸å¤ªå®Œå–„ã€‚ æ‰€ä»¥ï¼Œå¯¹äºå½“ä¸‹çš„ç›´æ’­ï¼Œå¤§å¤šæ•°ä½¿ç”¨çš„æ˜¯HTTP-FLVã€‚ HTTP-FLV è¿™ç§æ–¹å¼ç»“åˆäº†RTMPå’ŒHLSçš„ä¼˜ç‚¹ï¼Œä½¿ç”¨HTTPæ¥åˆ†å‘FLVæµã€‚ åœ¨æµè§ˆå™¨çš„ç½‘ç»œç›‘è§†å™¨ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªæŒç»­ä¸æ–­çš„æ–‡ä»¶è¯·æ±‚ï¼Œç±»å‹æ˜¯x-flvã€‚ å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨HTTPSæ¥ä¼ è¾“ã€‚ æœåŠ¡å™¨é…ç½® Nginxæœ‰ä¸“é—¨çš„åŒ…å¯¹RTMPå’ŒHTTP-FLVåšäº†æ”¯æŒï¼ˆHLSä¸€èˆ¬è®¿é—®æ–‡ä»¶å³å¯ï¼‰ï¼Œæ‰€ä»¥ä½¿ç”¨èµ·æ¥å¾ˆç®€å•ã€‚ é¦–å…ˆéœ€è¦ä»GitHubä¸Šæ‹‰å–nginx-http-flv-moduleã€‚è¿™ä¸ªæ¨¡å—å·²ç»æ”¯æŒäº†RTMPï¼Œæ‰€ä»¥ä¸ç”¨å¦å¤–åŠ ä¸Šåˆ«çš„æ¨¡å—ã€‚ è§£å‹åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤è¿›è¡Œç¼–è¯‘å®‰è£…ï¼š 123./configure --add-module=/tmp/nginx-http-flv-module --with-http_ssl_modulemakemake install å®‰å®Œåé»˜è®¤åœ¨/usr/local/nginxä¸‹ï¼Œå¯æ‰§è¡Œæ–‡ä»¶åœ¨ä¸Šè¿°è·¯å¾„çš„sbinä¸‹ã€‚ æˆ‘çš„ç½‘ç«™æœ‰SSLè¯ä¹¦ï¼Œæ‰€ä»¥é…ç½®äº†HTTPSã€‚å‚è€ƒé…ç½®å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263worker_processes 1;events { worker_connections 1024;} # æ·»åŠ RTMPæœåŠ¡rtmp { server { listen 1935; application live { live on; } }}# æ·»åŠ http-flvæœåŠ¡http { include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; server { listen 443; server_name blueberrycat.site; ssl on; #sslè¯ä¹¦çš„pemæ–‡ä»¶è·¯å¾„ ssl_certificate /root/blueberrycat.site_nginx/blueberrycat.site_bundle.pem; #sslè¯ä¹¦çš„keyæ–‡ä»¶è·¯å¾„ ssl_certificate_key /root/blueberrycat.site_nginx/blueberrycat.site.key; location / { root html; index index.html index.htm; } error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } location /live { flv_live on; chunked_transfer_encoding on; # æ·»åŠ ä¸€äº›æ§åˆ¶è®¿é—®çš„å¤´ add_header 'Access-Control-Allow-Credentials' 'true'; add_header 'Access-Control-Allow-Origin' '*'; add_header Access-Control-Allow-Headers X-Requested-With; add_header Access-Control-Allow-Methods GET,POST,OPTIONS; add_header 'Cache-Control' 'no-cache'; } } server { listen 80; server_name blueberrycat.site; # å°†è¯·æ±‚è½¬æˆhttps rewrite ^(.*)$ https://$host$1 permanent; }} æ¨æµ æ¨æµåœ°å€å¯ä»¥æ˜¯ 1https://blueberrycat.site/live?port=1935&amp;app=live&amp;stream={ è‡ªå®šä¹‰çš„æ¨æµå } ä¹Ÿå¯ä»¥æ˜¯ 1rtmp://blueberrycat.site/live/{ è‡ªå®šä¹‰çš„æ¨æµå } å–å†³äºä½ æƒ³ç”¨å“ªç§åè®®ã€‚ å›åˆ°é¡¹ç›®ï¼ŒPythonä¸OpenCVæ¨æµä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637import cv2import subprocess as spcap = cv2.VideoCapture(0)fps = cap.get(cv2.CAP_PROP_FPS)size = (int(cap.get(cv2.CAP_PROP_FRAME_WIDTH)), int(cap.get(cv2.CAP_PROP_FRAME_HEIGHT)))sizeStr = str(size[0]) + 'x' + str(size[1])command = ['ffmpeg', '-y', # è¦†ç›–ç¡®è®¤ '-f', 'rawvideo', # æŒ‡å®šè¾“å…¥æ ¼å¼ '-pix_fmt', 'bgr24', # æ ¼å¼ '-s', sizeStr, # å¤§å° '-r', str(fps), # FPS '-i', '-', # è¾“å…¥-ç®¡é“ '-c:v', 'libx264', # 264ç¼–ç  '-pix_fmt', 'yuv420p', # 420p '-preset', 'ultrafast', # é«˜é€Ÿå¤„ç† '-f', 'flv', # flvè¾“å‡º '-b', '1000000', # ç ç‡ 'rtmp://blueberrycat.site/live/123'] # æ¨æµåœ°å€pipe = sp.Popen(command, stdin=sp.PIPE, shell=False, bufsize=10**8) # å»ºç«‹ç®¡é“ï¼Œè¿™æ­¥å¾ˆé‡è¦while cap.isOpened(): ret, frame = cap.read() if ret == True: cv2.imshow('frame', frame) if cv2.waitKey(1) &amp; 0xFF == ord('q'): break else: break pipe.stdin.write(frame.tobytes()) # æ¨æµ ä¸ºäº†æµ‹è¯•è¿™äº›åè®®ï¼Œæˆ‘åœ¨æ—§ç½‘ç«™ä¸Šåšäº†å¤§é‡çš„æµ‹è¯•ï¼Œç»“æœç›´æ¥æŠŠä¸»æœºå¼„ç‚¸äº†ï¼Œæ—§ç½‘ç«™ç›´æ¥ä¸‹çº¿ã€‚ é»˜å“€ã€‚ å°½é‡åˆ«åœ¨Ubuntuç”¨yumè£…g++ ç½‘é¡µç«¯ å»ºè®®ä½¿ç”¨hlv.jsï¼ŒBilibiliå¼€å‘ï¼ˆéš¾ä»¥ç½®ä¿¡ï¼‰ã€‚ å®˜æ–¹è¯´æ˜ An HTML5 Flash Video (FLV) Player written in pure JavaScript without Flash. LONG LIVE FLV! ğŸ˜‚ ä½¿ç”¨ç¤ºä¾‹ 1234567891011121314&lt;script src=&quot;flv.min.js&quot;&gt;&lt;/script&gt;&lt;video id=&quot;videoElement&quot;&gt;&lt;/video&gt;&lt;script&gt; if (flvjs.isSupported()) { var videoElement = document.getElementById('videoElement'); var flvPlayer = flvjs.createPlayer({ type: 'flv', url: '{ è¿™é‡Œæ¢æˆè‡ªå·±çš„æ¨æµ }' }); flvPlayer.attachMediaElement(videoElement); flvPlayer.load(); flvPlayer.play(); }&lt;/script&gt; æœ€ç»ˆæ•ˆæœæ˜¯è¿™æ ·çš„","link":"https://blueberrycat123.github.io/2023/05/29/RTMP%E3%80%81HLS%E4%B8%8EHTTP-FLV/"},{"title":"å¤©çº¿æ–¹å‘å›¾","text":"ä¹‹å‰åšå®éªŒï¼Œè€å¸ˆè¦æ±‚ç”¨Originç”»å¤©çº¿çš„æ–¹å‘å›¾ï¼Œç»“æœæˆ‘å®åœ¨æ˜¯æ•´ä¸åˆ°ç ´è§£ç‰ˆï¼Œå°±è‡ªå·±ç”¨Matalbæ•´äº†ä¸€ä¸ªã€‚ ä»£ç å°±ä¸æ”¾äº†ï¼Œæ¯•ç«Ÿç¡®å®ä¹Ÿæ¯”è¾ƒç®€å•ã€‚ æ•ˆæœè¿˜æ˜¯ä¸é”™çš„ã€‚ è¿™é‡ŒåŠåŠŸç‡ä¸»ç“£ä¹Ÿæ ‡å‡ºæ¥äº†ï¼Œå¯ä»¥ç”¨é¼ æ ‡ç‚¹ä¸€ä¸‹ä¸Šä¸‹çš„ç‚¹æ¥è®¡ç®—ä¸»ç“£å®½åº¦ã€‚","link":"https://blueberrycat123.github.io/2023/05/28/%E5%A4%A9%E7%BA%BF%E6%96%B9%E5%90%91%E5%9B%BE/"},{"title":"ç”¨Unityå¼€å‘çš„å¦å…‹å°æ¸¸æˆ","text":"ç”¨Unityçš„å…è´¹ç´ æåŒ…åšäº†ä¸ªå°æ¸¸æˆã€‚ çœ‹èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆæœ‰æ„æ€ï¼Ÿç‚¹å‡»è¿™é‡Œä¸‹è½½ åœ¨è¿™ä¸ªæ¸¸æˆé‡Œï¼Œå¦å…‹ä¼šåˆ†ä¸ºå››ä¸ªé˜Ÿä¼ï¼Œäº’ç›¸å¯¹æˆ˜ï¼ æ¯ä¸ªé˜Ÿè¿˜ä¼šæ‹¥æœ‰ä¸€åº§ â€œå¼ºåŠ›â€ çš„é˜²å¾¡å¡”ï¼Œå‘é è¿‘çš„æ•Œäººå–·å°„æ€’ç«ï¼ å’ŒAIé˜Ÿå‹é€šåŠ›åä½œï¼Œæ‰“è´¥å…¶ä»–çš„AIï¼ è”æœºæ¸¸æˆçœŸæ˜¯å†™ä¸åŠ¨äº† æ­»äº¡åæœ‰è§‚æˆ˜è§†è§’ï¼Œèƒ½çœ‹AIäº’é”¤ã€‚ æ²¡æœ‰é€€å‡ºé”®ï¼Œéœ€è¦ALT+F4é€€å‡ºï¼Œè‡´æ•¬åˆ€å‰‘ç¥åŸŸï¼","link":"https://blueberrycat123.github.io/2023/05/27/%E7%94%A8Unity%E5%BC%80%E5%8F%91%E7%9A%84%E5%9D%A6%E5%85%8B%E5%B0%8F%E6%B8%B8%E6%88%8F/"},{"title":"å´©åï¼šæ˜Ÿç©¹é“é“ ä¼¤å®³è®¡ç®—å™¨","text":"é—²æ¥æ— äº‹ï¼Œç”¨QTæ“äº†ä¸€ä¸ªä¼¤å®³è®¡ç®—å™¨ã€‚ å¤§æ¦‚é•¿è¿™æ ·ğŸ‘‡ å·¦ä¾§æ˜¯è§’è‰²çš„åŸºç¡€é¢æ¿æ•°æ®ã€Buffæ•ˆæœå’Œæ€ªç‰©å±æ€§ï¼Œé€‰æ‹©æ€§è¾“å…¥è¿™ä¸‰å¤§éƒ¨åˆ†å°±å¯ä»¥åœ¨å³ä¾§æ‹¿åˆ°å½“å‰å‡çº§è¯æ¡çš„ä»·å€¼å’Œä¼¤å®³æ•°å€¼ã€‚ è¯æ¡æœŸæœ›æ˜¯ç”±Bç«™ç”¨æˆ· @LucasCheung299 æä¾›çš„è®¡ç®—å¼ã€‚ ä¼¤å®³å…¬å¼æ¥è‡ª è¿™ç¯‡æ–‡ç«  ç‚¹å‡»è¿™é‡Œå³å¯ä¸‹è½½ï¼ å…¶å®æœ¬æ¥æ˜¯åšäº†ä¸ªMatlab Appçš„ï¼Œä½†çœ‹èµ·æ¥å¤§å®¶éƒ½æ²¡æœ‰Matlabï¼Œåªèƒ½å¼„ä¸ªå¯æ‰§è¡Œæ–‡ä»¶åˆ†å‘äº†â€¦ğŸ˜”","link":"https://blueberrycat123.github.io/2023/05/27/%E5%B4%A9%E5%9D%8F%EF%BC%9A%E6%98%9F%E7%A9%B9%E9%93%81%E9%81%93-%E4%BC%A4%E5%AE%B3%E8%AE%A1%E7%AE%97%E5%99%A8/"},{"title":"çŸ©å½¢å¹³é¢é˜µé˜µå› å­è®¡ç®—","text":"é¡¹ç›®éœ€æ±‚ï¼Œéœ€è¦ç®—ä¸€ä¸‹å¹³é¢é˜µçš„é˜µå› å­ã€‚ æœ¬æ–‡è®¡ç®—é˜µå› å­ä½¿ç”¨çš„æ˜¯æ¯”è¾ƒç®€å•çš„æ–¹æ³•ï¼Œåˆ©ç”¨ç›´çº¿é˜µçš„å…¬å¼è®¡ç®—å¹³é¢é˜µã€‚ å®é™…ä¸Šè¿˜å¯ä»¥ä½¿ç”¨å‘é‡è¿›è¡Œåˆ†æï¼Œæ›´åŠ çš„æ³›ç”¨ã€‚ å‡åŒ€ç›´çº¿é˜µçš„é˜µå› å­å…¬å¼å¦‚ä¸‹ï¼š $$ f(\\psi) = \\frac{sin(\\frac{N}{2}\\psi)}{sin(\\frac{1}{2}\\psi)} $$ $$ \\psi = kdcos\\delta + \\xi $$ $d$æ˜¯é˜µå…ƒé—´è·ï¼Œ$\\delta$æ˜¯è§‚å¯Ÿæ–¹å‘å’Œé˜µè½´çš„å¤¹è§’ï¼Œ$\\xi$æ˜¯é˜µå…ƒçš„ç›¸ç§»ã€‚ å¯¹äºå¹³é¢é˜µï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒåˆ†è§£ä¸ºXæ–¹å‘å’ŒYæ–¹å‘çš„ä¸¤ä¸ªå‡åŒ€ç›´çº¿é˜µã€‚ç”±ä¹˜æ³•åŸç†å¯çŸ¥ï¼š $$ f(\\theta, \\varphi) = f_{1}(\\theta, \\varphi) \\times f_{2x} (\\theta, \\varphi) \\times f_{2y}(\\theta, \\varphi) $$ è®¡ç®—æ—¶åªéœ€è¦æ¢ç®—ä¸€ä¸‹é˜µè½´å¤¹è§’å³å¯ï¼š $$ cos\\delta_{x} = sin\\theta sin\\varphi $$ $$ cos\\delta_{y} = sin\\theta cos\\varphi $$ ä»£ç å¦‚ä¸‹ 123456789101112131415161718192021222324252627282930313233343536clear;close all;clc;% æŒ‡å®šé¢‘ç‡freq = 1.5e6;c = physconst('lightspeed');lambda = c / freq;k = 2 * pi / lambda;% æŒ‡å®šå¹³é¢é˜µå‚æ•°dx = 1 / 4 * lambda;dy = 1 / 4 * lambda;nx = 3;ny = 3;pdx = 0;pdy = 0;theta = meshgrid(eps : pi / 180 : pi);phi = meshgrid(eps : 2 * pi / 180 : 2 * pi)';f2x = sin(nx / 2 * (k * dx * (sin(theta) .* cos(phi)) + pdx)) ./ sin(1 / 2 * (k * dx * (sin(theta) .* cos(phi)) + pdx));f2y = sin(ny / 2 * (k * dy * (sin(theta) .* sin(phi)) + pdy)) ./ sin(1 / 2 * (k * dy * (sin(theta) .* sin(phi)) + pdy));f = f2x .* f2y;f = abs(f);[x, y, z] = sph2cart(phi, pi / 2 - theta, f);mesh(x, y, z);title('å¹³é¢é˜µæ–¹å‘å›¾');xlabel('x'), ylabel('y'), zlabel('z');axis equal; ç”±äºMatlabä¸ä¼šå»è®¡ç®—æé™ï¼Œæ‰€ä»¥è®¡ç®—æ—¶ä¼šå‡ºç°NaNï¼Œæ— æ³•è®¡ç®—å¯¹æ•°åæ ‡ã€‚ ç½‘æ ¼ä¸Šçš„å°ç¼ºå£å°±æ˜¯NaNçš„ä½ç½®ï¼Œå…¬å¼è®¡ç®—å‡ ä¹æ— æ³•æ¶ˆé™¤è¿™ä¸ªé—®é¢˜ã€‚ ä¹‹åæˆ‘ä¼šå°è¯•ä½¿ç”¨å‘é‡è®¡ç®—ï¼Œè¿™æ ·å°±å¯ä»¥è§„é¿æ‰ä¸Šé¢çš„é—®é¢˜ã€‚","link":"https://blueberrycat123.github.io/2023/05/31/%E7%9F%A9%E5%BD%A2%E5%B9%B3%E9%9D%A2%E9%98%B5%E9%98%B5%E5%9B%A0%E5%AD%90%E8%AE%A1%E7%AE%97/"},{"title":"å¤šå¾„è¡°è½ä»¿çœŸ","text":"åšå®éªŒæ—¶å†™å‡ºæ¥çš„ä»£ç ï¼Œæ„Ÿè§‰ä¼šç”¨çš„ä¸Šï¼Œè®°å½•ä¸€ä¸‹ã€‚ task1 - è®¡ç®—å¤šå¾„è¡°è½çš„æ—¶åŸŸåˆ†å¸ƒã€‚ task2 - è®¡ç®—å¤šå¾„è¡°è½çš„ç©ºé—´åˆ†å¸ƒã€‚ task3 - ç”¨BPSKè°ƒåˆ¶ï¼Œå¯¹æ¯”æœ‰æ— è¡°è½çš„è¯¯ç ç‡ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135clear;close all;clc;L = 1:1000;N = 16;v = 40 / 3.6;f_c = 800e6;C = physconst('lightspeed');R = 9600;ramda = C / f_c;T = 1 / R;FDT = v * f_c / C * T;% --- Task 1theta = zeros([N, 1]);for n = 1 : N if(n == 1) theta(n) = rand() * 2 * pi / 16; else theta(n) = theta(n - 1) + rand() * 2 * pi / 16; endendphi = rand([N, 1]) * 2 * pi;alpha = 2 * pi * FDT * cos(theta);k = 1 : 1000;Fk = exp(1j * ((alpha * k) + phi));Fk = sum(Fk, 1) / sqrt(N);Fk = 20 * log10(abs(Fk));figure(1);plot(Fk);% --- Task 2X = 1 : 100;Y = 1 : 100;F = zeros(100, 100);for x = X for y = Y F(x, y) = abs(sum(exp(1j * ((y / 100 * cos(theta) - x / 100 * sin(theta)) * 2 * pi / ramda + phi))) / sqrt(N)); endendfigure(2);mesh(F);% --- Task 3snr_in_db = 1 : 10;M = 1e6;a = zeros([M, 1]);for i = 1 : M temp=rand; if(temp&gt;0.5) a(i) = 1; else a(i) = 0; endendsignal = zeros([M, 1]);for i = 1 : M signal(i) = 2 * a(i) - 1;endpf = zeros([length(snr_in_db), 1]);for i = 1 : length(snr_in_db) numoferr = 0; snr = power(10, snr_in_db(i) / 10); wk = gngauss(0, 1, M) / sqrt(snr); k = 1 : M; Fk = exp(1j * ((alpha * k) + phi)); Fk = sum(Fk, 1) / sqrt(N); rk = signal .* Fk' + wk; dk = rk .* conj(Fk'); for k = 1 : M if (dk(k) &gt; 0) a_cd = 1; else a_cd = 0; end if (a_cd ~= a(k)) numoferr = numoferr + 1; end end pf(i) = numoferr / M;endpa = zeros([length(snr_in_db), 1]);for i = 1 : length(snr_in_db) numoferr = 0; snr = power(10, snr_in_db(i) / 10); wk = gngauss(0, 1, M) / sqrt(snr); rk = signal + wk; dk = rk; for k = 1 : M if (dk(k) &gt; 0) a_cd = 1; else a_cd = 0; end if (a_cd ~= a(k)) numoferr = numoferr + 1; end end pa(i) = numoferr / M;endfigure(3);semilogy(snr_in_db, [pf, pa]);grid on; é«˜æ–¯ç™½å™ªå£°å‡½æ•° 1234567891011121314151617function [gsrv] = gngauss(m, sgma, n) if nargin == 0 m = 0; sgma = 1; elseif nargin == 1 sgma = m; m = 0; end u = rand([n, 1]); z = sgma * (sqrt(2 * log(1 ./ (1 - u)))); u = rand([n, 1]); gsrv1 = m + z .* cos(2 * pi .* u); gsrv2 = m + z .* sin(2 * pi .* u); gsrv = gsrv1 + 1j * gsrv2; gsrv = gsrv / sqrt(2);end è¿è¡Œç»“æœ","link":"https://blueberrycat123.github.io/2023/06/04/%E5%A4%9A%E5%BE%84%E8%A1%B0%E8%90%BD%E4%BB%BF%E7%9C%9F/"}],"tags":[{"name":"Matlab","slug":"Matlab","link":"https://blueberrycat123.github.io/tags/Matlab/"},{"name":"LNA","slug":"LNA","link":"https://blueberrycat123.github.io/tags/LNA/"},{"name":"RTMP","slug":"RTMP","link":"https://blueberrycat123.github.io/tags/RTMP/"},{"name":"HLS","slug":"HLS","link":"https://blueberrycat123.github.io/tags/HLS/"},{"name":"HTTP-FLV","slug":"HTTP-FLV","link":"https://blueberrycat123.github.io/tags/HTTP-FLV/"},{"name":"Unity","slug":"Unity","link":"https://blueberrycat123.github.io/tags/Unity/"},{"name":"Game","slug":"Game","link":"https://blueberrycat123.github.io/tags/Game/"},{"name":"æ˜Ÿç©¹é“é“","slug":"æ˜Ÿç©¹é“é“","link":"https://blueberrycat123.github.io/tags/%E6%98%9F%E7%A9%B9%E9%93%81%E9%81%93/"},{"name":"QT","slug":"QT","link":"https://blueberrycat123.github.io/tags/QT/"},{"name":"çŸ©å½¢å¹³é¢é˜µ","slug":"çŸ©å½¢å¹³é¢é˜µ","link":"https://blueberrycat123.github.io/tags/%E7%9F%A9%E5%BD%A2%E5%B9%B3%E9%9D%A2%E9%98%B5/"},{"name":"é˜µå› å­","slug":"é˜µå› å­","link":"https://blueberrycat123.github.io/tags/%E9%98%B5%E5%9B%A0%E5%AD%90/"},{"name":"å¤šå¾„è¡°è½","slug":"å¤šå¾„è¡°è½","link":"https://blueberrycat123.github.io/tags/%E5%A4%9A%E5%BE%84%E8%A1%B0%E8%90%BD/"}],"categories":[{"name":"Codes","slug":"Codes","link":"https://blueberrycat123.github.io/categories/Codes/"},{"name":"Daily","slug":"Daily","link":"https://blueberrycat123.github.io/categories/Daily/"}],"pages":[]}